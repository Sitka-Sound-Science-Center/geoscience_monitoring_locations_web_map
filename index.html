<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/L.Control.Locate.min.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/filter.css">
<link rel="stylesheet" href="css/nouislider.min.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>Southeast Alaska Environmental Monitoring Locations</title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/L.Control.Locate.min.js"></script>
        <script src="js/leaflet-svg-shape-markers.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/tailDT.js"></script>
<script src="js/nouislider.min.js"></script>
<script src="js/wNumb.js"></script>
        <script src="data/MonitoringLocationsStatus_2.js"></script>
        <script src="data/MonitoringLocations_3.js"></script>
        <script>
        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString' || e.target.feature.geometry.type === 'MultiLineString') {
              highlightLayer.setStyle({
                color: '#d8e12b',
              });
            } else {
              highlightLayer.setStyle({
                fillColor: '#d8e12b',
                fillOpacity: 1
              });
            }
        }
        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        })
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // add class to format popup if it contains media
		function addClassToPopupIfMedia(content, popup) {
			var tempDiv = document.createElement('div');
			tempDiv.innerHTML = content;
			if (tempDiv.querySelector('td img')) {
				popup._contentNode.classList.add('media');
					// Delay to force the redraw
					setTimeout(function() {
						popup.update();
					}, 10);
			} else {
				popup._contentNode.classList.remove('media');
			}
		}
        var title = new L.Control({'position':'topleft'});
        title.onAdd = function (map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        title.update = function () {
            this._div.innerHTML = '<h2>Southeast Alaska Environmental Monitoring Locations</h2>';
        };
        title.addTo(map);
        var abstract = new L.Control({'position':'topleft'});
        abstract.onAdd = function (map) {
            this._div = L.DomUtil.create('div',
            'leaflet-control abstract');
            this._div.id = 'abstract'
                this._div.setAttribute("onmouseenter", "abstract.show()");
                this._div.setAttribute("onmouseleave", "abstract.hide()");
                this.hide();
                return this._div;
            };
            abstract.hide = function () {
                this._div.classList.remove("abstractUncollapsed");
                this._div.classList.add("abstract");
                this._div.innerHTML = 'i'
            }
            abstract.show = function () {
                this._div.classList.remove("abstract");
                this._div.classList.add("abstractUncollapsed");
                this._div.innerHTML = 'This is a map of the environmental monitoring locations in Southeast Alaska. This map was created as a deliverable for a USGS Landslide Monitoring and Risk Reduction Grant. Data have been provided by or collected from the National Weather Service, US National Forest Services, MesoWest, and other public data repositories. This map aims to shed light on the different types of monitoring stations in the region, the usage of the monitoring stations, and other descriptive information about the locations. We hope this map allows you to make connections, draw conclusions, and explore Southeast Alaska in new ways!<br /><br />Upper Left-Hand Corner:<br />- Click the plus (+) sign to zoom in<br />- Click the minus (-) sign to zoom out<br />- Click the raindrop symbol to show your location on the map and find monitoring locations around you<br /><br />Upper Right-Hand Corner:<br />- Layers<br />  - Categorize monitoring locations by station owners or by the status of the location<br />  - Change the background layer preferences<br /><br />Right-Hand Side:<br />-Filter the map by station owner, station type, or station status<br />';
        };
        abstract.addTo(map);
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        L.control.locate({locateOptions: {maxZoom: 19}}).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
        }
        map.createPane('pane_Positronretina_0');
        map.getPane('pane_Positronretina_0').style.zIndex = 400;
        var layer_Positronretina_0 = L.tileLayer('https://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}@2x.png', {
            pane: 'pane_Positronretina_0',
            opacity: 1.0,
            attribution: '<a href="https://cartodb.com/basemaps/">Map tiles by CartoDB, under CC BY 3.0. Data by OpenStreetMap, under ODbL.</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 20
        });
        layer_Positronretina_0;
        map.createPane('pane_OSMStandard_1');
        map.getPane('pane_OSMStandard_1').style.zIndex = 401;
        var layer_OSMStandard_1 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OSMStandard_1',
            opacity: 1.0,
            attribution: '<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_OSMStandard_1;
        map.addLayer(layer_OSMStandard_1);
        function pop_MonitoringLocationsStatus_2(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">station_name</th>\
                        <td>' + (feature.properties['station_name'] !== null ? autolinker.link(feature.properties['station_name'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">station_id</th>\
                        <td>' + (feature.properties['station_id'] !== null ? autolinker.link(feature.properties['station_id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">owner</th>\
                        <td>' + (feature.properties['owner'] !== null ? autolinker.link(feature.properties['owner'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">owner_2</th>\
                        <td>' + (feature.properties['owner_2'] !== null ? autolinker.link(feature.properties['owner_2'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">station_type</th>\
                        <td>' + (feature.properties['station_type'] !== null ? autolinker.link(feature.properties['station_type'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">project</th>\
                        <td>' + (feature.properties['project'] !== null ? autolinker.link(feature.properties['project'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">real_time</th>\
                        <td>' + (feature.properties['real_time'] !== null ? autolinker.link(feature.properties['real_time'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">latitude</th>\
                        <td>' + (feature.properties['latitude'] !== null ? autolinker.link(feature.properties['latitude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">longitude</th>\
                        <td>' + (feature.properties['longitude'] !== null ? autolinker.link(feature.properties['longitude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">elevation_ft</th>\
                        <td>' + (feature.properties['elevation_ft'] !== null ? autolinker.link(feature.properties['elevation_ft'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">transmit_time</th>\
                        <td>' + (feature.properties['transmit_time'] !== null ? autolinker.link(feature.properties['transmit_time'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">operational</th>\
                        <td>' + (feature.properties['operational'] !== null ? autolinker.link(feature.properties['operational'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">data_provider</th>\
                        <td>' + (feature.properties['data_provider'] !== null ? autolinker.link(feature.properties['data_provider'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">data_and_types</th>\
                        <td>' + (feature.properties['data_and_types'] !== null ? autolinker.link(feature.properties['data_and_types'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">temperature</th>\
                        <td>' + (feature.properties['temperature'] !== null ? autolinker.link(feature.properties['temperature'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">dew_point</th>\
                        <td>' + (feature.properties['dew_point'] !== null ? autolinker.link(feature.properties['dew_point'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">wind</th>\
                        <td>' + (feature.properties['wind'] !== null ? autolinker.link(feature.properties['wind'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">visability</th>\
                        <td>' + (feature.properties['visability'] !== null ? autolinker.link(feature.properties['visability'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">sky_conditions</th>\
                        <td>' + (feature.properties['sky_conditions'] !== null ? autolinker.link(feature.properties['sky_conditions'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">sea_level_pressure</th>\
                        <td>' + (feature.properties['sea_level_pressure'] !== null ? autolinker.link(feature.properties['sea_level_pressure'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">wave_swell_height</th>\
                        <td>' + (feature.properties['wave_swell_height'] !== null ? autolinker.link(feature.properties['wave_swell_height'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">altimeter</th>\
                        <td>' + (feature.properties['altimeter'] !== null ? autolinker.link(feature.properties['altimeter'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">precipitation</th>\
                        <td>' + (feature.properties['precipitation'] !== null ? autolinker.link(feature.properties['precipitation'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">snow_amount</th>\
                        <td>' + (feature.properties['snow_amount'] !== null ? autolinker.link(feature.properties['snow_amount'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">heated</th>\
                        <td>' + (feature.properties['heated'] !== null ? autolinker.link(feature.properties['heated'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">seasonal</th>\
                        <td>' + (feature.properties['seasonal'] !== null ? autolinker.link(feature.properties['seasonal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">reliable</th>\
                        <td>' + (feature.properties['reliable'] !== null ? autolinker.link(feature.properties['reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">precip reliable</th>\
                        <td>' + (feature.properties['precip reliable'] !== null ? autolinker.link(feature.properties['precip reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">temp reliable</th>\
                        <td>' + (feature.properties['temp reliable'] !== null ? autolinker.link(feature.properties['temp reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">wind reliable</th>\
                        <td>' + (feature.properties['wind reliable'] !== null ? autolinker.link(feature.properties['wind reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Td reliable</th>\
                        <td>' + (feature.properties['Td reliable'] !== null ? autolinker.link(feature.properties['Td reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">camera</th>\
                        <td>' + (feature.properties['camera'] !== null ? autolinker.link(feature.properties['camera'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">mesowest_link</th>\
                        <td>' + (feature.properties['mesowest_link'] !== null ? autolinker.link(feature.properties['mesowest_link'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">web_link</th>\
                        <td>' + (feature.properties['web_link'] !== null ? autolinker.link(feature.properties['web_link'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">contact_person</th>\
                        <td>' + (feature.properties['contact_person'] !== null ? autolinker.link(feature.properties['contact_person'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">contact_email</th>\
                        <td>' + (feature.properties['contact_email'] !== null ? autolinker.link(feature.properties['contact_email'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">maintainer</th>\
                        <td>' + (feature.properties['maintainer'] !== null ? autolinker.link(feature.properties['maintainer'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">next_maint_date</th>\
                        <td>' + (feature.properties['next_maint_date'] !== null ? autolinker.link(feature.properties['next_maint_date'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">status_details</th>\
                        <td>' + (feature.properties['status_details'] !== null ? autolinker.link(feature.properties['status_details'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">sensor_specifications</th>\
                        <td>' + (feature.properties['sensor_specifications'] !== null ? autolinker.link(feature.properties['sensor_specifications'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">data_format</th>\
                        <td>' + (feature.properties['data_format'] !== null ? autolinker.link(feature.properties['data_format'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">data_routing_procedure</th>\
                        <td>' + (feature.properties['data_routing_procedure'] !== null ? autolinker.link(feature.properties['data_routing_procedure'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">api_services</th>\
                        <td>' + (feature.properties['api_services'] !== null ? autolinker.link(feature.properties['api_services'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">obs_frequency</th>\
                        <td>' + (feature.properties['obs_frequency'] !== null ? autolinker.link(feature.properties['obs_frequency'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">operation_period</th>\
                        <td>' + (feature.properties['operation_period'] !== null ? autolinker.link(feature.properties['operation_period'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">additional_info</th>\
                        <td>' + (feature.properties['additional_info'] !== null ? autolinker.link(feature.properties['additional_info'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_MonitoringLocationsStatus_2_0(feature) {
            switch(String(feature.properties['operational'])) {
                case 'Active':
                    return {
                pane: 'pane_MonitoringLocationsStatus_2',
                shape: 'triangle',
                radius: 5.6,
                opacity: 1,
                color: 'rgba(255,255,255,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(76,175,62,1.0)',
                interactive: true,
            }
                    break;
                case 'Destroyed':
                    return {
                pane: 'pane_MonitoringLocationsStatus_2',
                shape: 'triangle',
                radius: 5.6,
                opacity: 1,
                color: 'rgba(255,255,255,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(253,174,97,1.0)',
                interactive: true,
            }
                    break;
                case 'Inactive':
                    return {
                pane: 'pane_MonitoringLocationsStatus_2',
                shape: 'triangle',
                radius: 5.6,
                opacity: 1,
                color: 'rgba(255,255,255,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(232,42,55,1.0)',
                interactive: true,
            }
                    break;
                default:
                    return {
                pane: 'pane_MonitoringLocationsStatus_2',
                shape: 'triangle',
                radius: 5.6,
                opacity: 1,
                color: 'rgba(255,255,255,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(43,131,186,1.0)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_MonitoringLocationsStatus_2');
        map.getPane('pane_MonitoringLocationsStatus_2').style.zIndex = 402;
        map.getPane('pane_MonitoringLocationsStatus_2').style['mix-blend-mode'] = 'normal';
        var layer_MonitoringLocationsStatus_2 = new L.geoJson(json_MonitoringLocationsStatus_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_MonitoringLocationsStatus_2',
            layerName: 'layer_MonitoringLocationsStatus_2',
            pane: 'pane_MonitoringLocationsStatus_2',
            onEachFeature: pop_MonitoringLocationsStatus_2,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_MonitoringLocationsStatus_2_0(feature));
            },
        });
        bounds_group.addLayer(layer_MonitoringLocationsStatus_2);
        function pop_MonitoringLocations_3(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Station Name</th>\
                        <td>' + (feature.properties['station_name'] !== null ? autolinker.link(feature.properties['station_name'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Station ID</th>\
                        <td>' + (feature.properties['station_id'] !== null ? autolinker.link(feature.properties['station_id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Owner</th>\
                        <td>' + (feature.properties['owner'] !== null ? autolinker.link(feature.properties['owner'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Owner 2</th>\
                        <td>' + (feature.properties['owner_2'] !== null ? autolinker.link(feature.properties['owner_2'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Station Type</th>\
                        <td>' + (feature.properties['station_type'] !== null ? autolinker.link(feature.properties['station_type'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Project</th>\
                        <td>' + (feature.properties['project'] !== null ? autolinker.link(feature.properties['project'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Real Time</th>\
                        <td>' + (feature.properties['real_time'] !== null ? autolinker.link(feature.properties['real_time'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Latitude</th>\
                        <td>' + (feature.properties['latitude'] !== null ? autolinker.link(feature.properties['latitude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Longitude</th>\
                        <td>' + (feature.properties['longitude'] !== null ? autolinker.link(feature.properties['longitude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Elevation (ft)</th>\
                        <td>' + (feature.properties['elevation_ft'] !== null ? autolinker.link(feature.properties['elevation_ft'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Transmit Time</th>\
                        <td>' + (feature.properties['transmit_time'] !== null ? autolinker.link(feature.properties['transmit_time'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Operational</th>\
                        <td>' + (feature.properties['operational'] !== null ? autolinker.link(feature.properties['operational'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Data Provider</th>\
                        <td>' + (feature.properties['data_provider'] !== null ? autolinker.link(feature.properties['data_provider'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Data and Types</th>\
                        <td>' + (feature.properties['data_and_types'] !== null ? autolinker.link(feature.properties['data_and_types'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Temperature</th>\
                        <td>' + (feature.properties['temperature'] !== null ? autolinker.link(feature.properties['temperature'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Dew Point</th>\
                        <td>' + (feature.properties['dew_point'] !== null ? autolinker.link(feature.properties['dew_point'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Wind</th>\
                        <td>' + (feature.properties['wind'] !== null ? autolinker.link(feature.properties['wind'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Visability</th>\
                        <td>' + (feature.properties['visability'] !== null ? autolinker.link(feature.properties['visability'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sky Conditions</th>\
                        <td>' + (feature.properties['sky_conditions'] !== null ? autolinker.link(feature.properties['sky_conditions'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sea Level Pressure</th>\
                        <td>' + (feature.properties['sea_level_pressure'] !== null ? autolinker.link(feature.properties['sea_level_pressure'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Wave Swell Height</th>\
                        <td>' + (feature.properties['wave_swell_height'] !== null ? autolinker.link(feature.properties['wave_swell_height'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Altimeter</th>\
                        <td>' + (feature.properties['altimeter'] !== null ? autolinker.link(feature.properties['altimeter'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Precipitation</th>\
                        <td>' + (feature.properties['precipitation'] !== null ? autolinker.link(feature.properties['precipitation'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Amount of Snow</th>\
                        <td>' + (feature.properties['snow_amount'] !== null ? autolinker.link(feature.properties['snow_amount'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Heated</th>\
                        <td>' + (feature.properties['heated'] !== null ? autolinker.link(feature.properties['heated'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Seasonal</th>\
                        <td>' + (feature.properties['seasonal'] !== null ? autolinker.link(feature.properties['seasonal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Reliable</th>\
                        <td>' + (feature.properties['reliable'] !== null ? autolinker.link(feature.properties['reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Precipitation Reliable</th>\
                        <td>' + (feature.properties['precip reliable'] !== null ? autolinker.link(feature.properties['precip reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Temperature Reliable</th>\
                        <td>' + (feature.properties['temp reliable'] !== null ? autolinker.link(feature.properties['temp reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Wind Reliable</th>\
                        <td>' + (feature.properties['wind reliable'] !== null ? autolinker.link(feature.properties['wind reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">TD Reliable</th>\
                        <td>' + (feature.properties['Td reliable'] !== null ? autolinker.link(feature.properties['Td reliable'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Camera</th>\
                        <td>' + (feature.properties['camera'] !== null ? autolinker.link(feature.properties['camera'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">MesoWest Link</th>\
                        <td>' + (feature.properties['mesowest_link'] !== null ? autolinker.link(feature.properties['mesowest_link'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Web Link</th>\
                        <td>' + (feature.properties['web_link'] !== null ? autolinker.link(feature.properties['web_link'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Contact Person</th>\
                        <td>' + (feature.properties['contact_person'] !== null ? autolinker.link(feature.properties['contact_person'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Contact Email</th>\
                        <td>' + (feature.properties['contact_email'] !== null ? autolinker.link(feature.properties['contact_email'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Maintainer</th>\
                        <td>' + (feature.properties['maintainer'] !== null ? autolinker.link(feature.properties['maintainer'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Next Maintenance Date</th>\
                        <td>' + (feature.properties['next_maint_date'] !== null ? autolinker.link(feature.properties['next_maint_date'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Status Details</th>\
                        <td>' + (feature.properties['status_details'] !== null ? autolinker.link(feature.properties['status_details'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sensor Specifications</th>\
                        <td>' + (feature.properties['sensor_specifications'] !== null ? autolinker.link(feature.properties['sensor_specifications'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Data Format</th>\
                        <td>' + (feature.properties['data_format'] !== null ? autolinker.link(feature.properties['data_format'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Data Routing Procedure</th>\
                        <td>' + (feature.properties['data_routing_procedure'] !== null ? autolinker.link(feature.properties['data_routing_procedure'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">API Services</th>\
                        <td>' + (feature.properties['api_services'] !== null ? autolinker.link(feature.properties['api_services'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Observation Frequency</th>\
                        <td>' + (feature.properties['obs_frequency'] !== null ? autolinker.link(feature.properties['obs_frequency'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Observation Period</th>\
                        <td>' + (feature.properties['operation_period'] !== null ? autolinker.link(feature.properties['operation_period'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Additional Information</th>\
                        <td>' + (feature.properties['additional_info'] !== null ? autolinker.link(feature.properties['additional_info'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_MonitoringLocations_3_0() {
            return {
                pane: 'pane_MonitoringLocations_3',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,93,182,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_MonitoringLocations_3');
        map.getPane('pane_MonitoringLocations_3').style.zIndex = 403;
        map.getPane('pane_MonitoringLocations_3').style['mix-blend-mode'] = 'normal';
        var layer_MonitoringLocations_3 = new L.geoJson(json_MonitoringLocations_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_MonitoringLocations_3',
            layerName: 'layer_MonitoringLocations_3',
            pane: 'pane_MonitoringLocations_3',
            onEachFeature: pop_MonitoringLocations_3,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_MonitoringLocations_3_0(feature));
            },
        });
        bounds_group.addLayer(layer_MonitoringLocations_3);
        map.addLayer(layer_MonitoringLocations_3);
        var baseMaps = {};
        var overlaysTree = [
            {label: '<img src="legend/MonitoringLocations_3.png" /> Monitoring Locations', layer: layer_MonitoringLocations_3},
            {label: 'Monitoring Locations (Status)<br /><table><tr><td style="text-align: center;"><img src="legend/MonitoringLocationsStatus_2_Active0.png" /></td><td>Active</td></tr><tr><td style="text-align: center;"><img src="legend/MonitoringLocationsStatus_2_Destroyed1.png" /></td><td>Destroyed</td></tr><tr><td style="text-align: center;"><img src="legend/MonitoringLocationsStatus_2_Inactive2.png" /></td><td>Inactive</td></tr><tr><td style="text-align: center;"><img src="legend/MonitoringLocationsStatus_2_3.png" /></td><td></td></tr></table>', layer: layer_MonitoringLocationsStatus_2},
            {label: "OSM Standard", layer: layer_OSMStandard_1},
            {label: "Positron (retina)", layer: layer_Positronretina_0},]
        var lay = L.control.layers.tree(null, overlaysTree,{
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: true,
        });
        lay.addTo(map);
        setBounds();
        var mapDiv = document.getElementById('map');
        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "99%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)
        var Filters = {"owner": "str","operational": "str","station_type": "str"};
        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_owner = document.createElement('div');
            div_owner.id = "div_owner";
            div_owner.className= "filterselect";
            document.getElementById("menu").appendChild(div_owner);
            sel_owner = document.createElement('select');
            sel_owner.multiple = true;
            sel_owner.size = 10;
            sel_owner.id = "sel_owner";
            var owner_options_str = "<option value='' unselected></option>";
            sel_owner.onchange = function(){filterFunc()};
            owner_options_str  += '<option value="NULL">NULL</option>';
            owner_options_str  += '<option value="Alaska Avalanche Information Center">Alaska Avalanche Information Center</option>';
            owner_options_str  += '<option value="Alaska Department of Transportation">Alaska Department of Transportation</option>';
            owner_options_str  += '<option value="Alaska Division of Geological & Geophysical Surveys">Alaska Division of Geological & Geophysical Surveys</option>';
            owner_options_str  += '<option value="Alaska Electric Light and Power Company">Alaska Electric Light and Power Company</option>';
            owner_options_str  += '<option value="Constantine Mine">Constantine Mine</option>';
            owner_options_str  += '<option value="Eaglecrest">Eaglecrest</option>';
            owner_options_str  += '<option value="Environment Canada">Environment Canada</option>';
            owner_options_str  += '<option value="Federal Aviation Administration">Federal Aviation Administration</option>';
            owner_options_str  += '<option value="Haight & Associates Inc">Haight & Associates Inc</option>';
            owner_options_str  += '<option value="Hydrometeorological Automated Data System">Hydrometeorological Automated Data System</option>';
            owner_options_str  += '<option value="Incorporated Research Institutions for Seismology">Incorporated Research Institutions for Seismology</option>';
            owner_options_str  += '<option value="Juneau Weather Forecast Office">Juneau Weather Forecast Office</option>';
            owner_options_str  += '<option value="Ketchikan Public Utilities">Ketchikan Public Utilities</option>';
            owner_options_str  += '<option value="Marine Exchange">Marine Exchange</option>';
            owner_options_str  += '<option value="Metlakatla Indian Community">Metlakatla Indian Community</option>';
            owner_options_str  += '<option value="National Climatic Data Center">National Climatic Data Center</option>';
            owner_options_str  += '<option value="National Data Buoy Center">National Data Buoy Center</option>';
            owner_options_str  += '<option value="National Oceanic and Atmospheric Administration">National Oceanic and Atmospheric Administration</option>';
            owner_options_str  += '<option value="National Park Service">National Park Service</option>';
            owner_options_str  += '<option value="National Tsunami Warning Center (NTWC)">National Tsunami Warning Center (NTWC)</option>';
            owner_options_str  += '<option value="National Weather Service">National Weather Service</option>';
            owner_options_str  += '<option value="Natural Resources Conservation Service">Natural Resources Conservation Service</option>';
            owner_options_str  += '<option value="Private">Private</option>';
            owner_options_str  += '<option value="Privite ">Privite </option>';
            owner_options_str  += '<option value="Sitka Sound Science Center">Sitka Sound Science Center</option>';
            owner_options_str  += '<option value="Southeast Alaska Power Agency">Southeast Alaska Power Agency</option>';
            owner_options_str  += '<option value="The Bureau of Land Management">The Bureau of Land Management</option>';
            owner_options_str  += '<option value="U.S. Department of the Interior">U.S. Department of the Interior</option>';
            owner_options_str  += '<option value="U.S. Forest Service">U.S. Forest Service</option>';
            owner_options_str  += '<option value="U.S. Geological Survey">U.S. Geological Survey</option>';
            owner_options_str  += '<option value="US Geological Survey Water Resources Division">US Geological Survey Water Resources Division</option>';
            owner_options_str  += '<option value="USArray">USArray</option>';
            owner_options_str  += '<option value="University Corporation for Atmospheric Research">University Corporation for Atmospheric Research</option>';
            owner_options_str  += '<option value="University of Alaska Southeast">University of Alaska Southeast</option>';
            owner_options_str  += '<option value="Ward Cove Group">Ward Cove Group</option>';
            owner_options_str  += '<option value="Yukon Avalanche Association">Yukon Avalanche Association</option>';
            sel_owner.innerHTML = owner_options_str;
            div_owner.appendChild(sel_owner);
            var lab_owner = document.createElement('div');
            lab_owner.innerHTML = 'owner';
            lab_owner.className = 'filterlabel';
            div_owner.appendChild(lab_owner);
            var reset_owner = document.createElement('div');
            reset_owner.innerHTML = 'clear filter';
            reset_owner.className = 'filterlabel';
            reset_owner.onclick = function() {
                var options = document.getElementById("sel_owner").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_owner.appendChild(reset_owner);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_operational = document.createElement('div');
            div_operational.id = "div_operational";
            div_operational.className= "filterselect";
            document.getElementById("menu").appendChild(div_operational);
            sel_operational = document.createElement('select');
            sel_operational.multiple = true;
            sel_operational.size = 4;
            sel_operational.id = "sel_operational";
            var operational_options_str = "<option value='' unselected></option>";
            sel_operational.onchange = function(){filterFunc()};
            operational_options_str  += '<option value="NULL">NULL</option>';
            operational_options_str  += '<option value="Active">Active</option>';
            operational_options_str  += '<option value="Destroyed">Destroyed</option>';
            operational_options_str  += '<option value="Inactive">Inactive</option>';
            sel_operational.innerHTML = operational_options_str;
            div_operational.appendChild(sel_operational);
            var lab_operational = document.createElement('div');
            lab_operational.innerHTML = 'operational';
            lab_operational.className = 'filterlabel';
            div_operational.appendChild(lab_operational);
            var reset_operational = document.createElement('div');
            reset_operational.innerHTML = 'clear filter';
            reset_operational.className = 'filterlabel';
            reset_operational.onclick = function() {
                var options = document.getElementById("sel_operational").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_operational.appendChild(reset_operational);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_station_type = document.createElement('div');
            div_station_type.id = "div_station_type";
            div_station_type.className= "filterselect";
            document.getElementById("menu").appendChild(div_station_type);
            sel_station_type = document.createElement('select');
            sel_station_type.multiple = true;
            sel_station_type.size = 10;
            sel_station_type.id = "sel_station_type";
            var station_type_options_str = "<option value='' unselected></option>";
            sel_station_type.onchange = function(){filterFunc()};
            station_type_options_str  += '<option value="NULL">NULL</option>';
            station_type_options_str  += '<option value="Automated Weather Observing System">Automated Weather Observing System</option>';
            station_type_options_str  += '<option value="C-MAN">C-MAN</option>';
            station_type_options_str  += '<option value="CANADIAN">CANADIAN</option>';
            station_type_options_str  += '<option value="Cambell">Cambell</option>';
            station_type_options_str  += '<option value="Campbell">Campbell</option>';
            station_type_options_str  += '<option value="Dam level">Dam level</option>';
            station_type_options_str  += '<option value="FTS">FTS</option>';
            station_type_options_str  += '<option value="Federal Aviation Administration">Federal Aviation Administration</option>';
            station_type_options_str  += '<option value="Federal Aviation Administration Webcam">Federal Aviation Administration Webcam</option>';
            station_type_options_str  += '<option value="Fixed Structure Weather Station">Fixed Structure Weather Station</option>';
            station_type_options_str  += '<option value="Forest Practices">Forest Practices</option>';
            station_type_options_str  += '<option value="Geostationary Satellite Server">Geostationary Satellite Server</option>';
            station_type_options_str  += '<option value="HANDAR">HANDAR</option>';
            station_type_options_str  += '<option value="HOBO ONSET">HOBO ONSET</option>';
            station_type_options_str  += '<option value="Igage">Igage</option>';
            station_type_options_str  += '<option value="Igage Tipping Bucket Network">Igage Tipping Bucket Network</option>';
            station_type_options_str  += '<option value="LARC">LARC</option>';
            station_type_options_str  += '<option value="MAREX">MAREX</option>';
            station_type_options_str  += '<option value="National Water Level Observation Network (NWLON)">National Water Level Observation Network (NWLON)</option>';
            station_type_options_str  += '<option value="Navy Oceanographic Meteorological Automatic Device (NOMAD) buoy ">Navy Oceanographic Meteorological Automatic Device (NOMAD) buoy </option>';
            station_type_options_str  += '<option value="PROFILER">PROFILER</option>';
            station_type_options_str  += '<option value="Piezometer">Piezometer</option>';
            station_type_options_str  += '<option value="RAMOS">RAMOS</option>';
            station_type_options_str  += '<option value="Rain Guage">Rain Guage</option>';
            station_type_options_str  += '<option value="Remote Automated Weather Station">Remote Automated Weather Station</option>';
            station_type_options_str  += '<option value="River Gage">River Gage</option>';
            station_type_options_str  += '<option value="River Gauge">River Gauge</option>';
            station_type_options_str  += '<option value="River GaugeF">River GaugeF</option>';
            station_type_options_str  += '<option value="River gauge">River gauge</option>';
            station_type_options_str  += '<option value="River/Lake Guage">River/Lake Guage</option>';
            station_type_options_str  += '<option value="SNOCOR">SNOCOR</option>';
            station_type_options_str  += '<option value="Seismometer">Seismometer</option>';
            station_type_options_str  += '<option value="Snow Telemetry (SNOTEL) Network">Snow Telemetry (SNOTEL) Network</option>';
            station_type_options_str  += '<option value="Staff Gauge">Staff Gauge</option>';
            station_type_options_str  += '<option value="Surface Water, Stream">Surface Water, Stream</option>';
            station_type_options_str  += '<option value="The ASOS Monitoring Center (AOMC)">The ASOS Monitoring Center (AOMC)</option>';
            station_type_options_str  += '<option value="Tipping Bucket Network">Tipping Bucket Network</option>';
            station_type_options_str  += '<option value="U.S. Climate Reference Network">U.S. Climate Reference Network</option>';
            station_type_options_str  += '<option value="UCAR">UCAR</option>';
            station_type_options_str  += '<option value="Unknown">Unknown</option>';
            station_type_options_str  += '<option value="Unknown ">Unknown </option>';
            station_type_options_str  += '<option value="Weather Station">Weather Station</option>';
            sel_station_type.innerHTML = station_type_options_str;
            div_station_type.appendChild(sel_station_type);
            var lab_station_type = document.createElement('div');
            lab_station_type.innerHTML = 'station_type';
            lab_station_type.className = 'filterlabel';
            div_station_type.appendChild(lab_station_type);
            var reset_station_type = document.createElement('div');
            reset_station_type.innerHTML = 'clear filter';
            reset_station_type.className = 'filterlabel';
            reset_station_type.onclick = function() {
                var options = document.getElementById("sel_station_type").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_station_type.appendChild(reset_station_type);
        </script>
    </body>
</html>
